#
# Manticore Search configuration for AFFiNE on Cloudron.
# Keeps all runtime state under /app/data so backups include the indexer data.
#

common {
    plugin_dir = /app/data/manticore/plugins
}

searchd {
    listen = 127.0.0.1:9306:mysql41
    listen = 127.0.0.1:9308:http
    listen = 127.0.0.1:9312
    listen = /run/manticore/manticore.sock:mysql41

    log = /app/data/manticore/logs/searchd.log
    query_log = /app/data/manticore/logs/query.log
    binlog_path = /app/data/manticore/binlog
    data_dir = /app/data/manticore/data
    pid_file = /run/manticore/searchd.pid
    mysql_version_string = 8.0.33
    buddy_path = /app/code/run-buddy.sh --disable-telemetry
}
